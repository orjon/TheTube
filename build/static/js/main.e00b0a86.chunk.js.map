{"version":3,"sources":["Nav.js","LineStop.js","LineStops.js","LineStatus.js","LineStatuses.js","Map.js","LineArrivals.js","Facilties.js","Station.js","App.js","Helpers.js","serviceWorker.js","index.js"],"names":["Nav","className","to","format","ticking","LineStop","props","findStationFromId","stationToFind","stations","filter","station","id","bind","tubeLines","line","index","findIndex","lineX","name","lines","this","thisStation","pop","map","lightColor","includes","key","lineId","lineName","url","Component","defaultProps","undefined","LineStops","lineStops","console","log","length","LineStatus","disruptionReason","reason","cropIndex","indexOf","substring","status","LineStatuses","apiString","process","useState","lineStatuses","setStatuses","useEffect","window","scrollTo","axios","get","headers","Accept","then","response","statuses","data","push","statusSeverityDescription","stopOrder","statusJSX","catch","err","mapboxgl","accessToken","Map","state","lng","lat","zoom","markers","container","mapDiv","style","center","ref","el","React","LineArrivals","arrivals","arrival","uuid","towards","expected","noArrivals","Facilties","facilities","facility","Station","getArrivals","stationId","platform","platformName","desintation","destination","expectedArrival","setState","address","contact","value","getInfo","split","lineOfAddress","lineArrivals","findLine","formatAddress","phoneNo","location","formatLocation","App","idToFind","find","findStationFromUrl","findLineIndex","lineToFind","getStatuses","i","getStopOrder","getStations","j","addStation","sort","compare","orderedLineRoutes","property","lineStations","validFacilities","rejectedValues","renamedFacilityKeys","forEach","facilityObject","additionalProperties","x","inputString","validContacts","propertyObject","trimStationName","commonName","toLowerCase","replace","lon","stationName","trimmedStationName","cropIndex1","slice","newStation","foundIndex","stationA","stationB","exact","path","render","routeProps","match","params","component","href","mapboxToken","Boolean","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.e00b0a86.chunk.js","sourcesContent":["import React from 'react'\nimport { Link } from 'react-router-dom';\nimport './Nav.scss';\nimport Clock from 'react-live-clock';\n\n\nconst Nav = () => {\n  return(\n    <div className='Nav'>\n      <Link to='/'>\n        <div className='AppTitle'>The Tube</div>\n      </Link>\n      <div className='dateTime'>\n        <Clock className = 'Time' format={'HH:mm'} ticking={true}/>\n        <Clock className = 'Date' format={'DD-MMM-YYYY'} ticking={true}/>\n      </div>\n    </div>\n  )\n}\n\nexport default Nav;","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport './LineStop.scss';\n\nclass LineStop extends Component{\n  static defaultProps={\n    thisStation: {\n      lines: []\n    },\n    station: {\n      id : undefined\n    }\n  }\n\n  constructor(props){\n    super(props);\n    this.findStationFromId = this.findStationFromId.bind(this)\n  }\n\n  lineName(tubeLines, line){\n    let index = tubeLines.findIndex(lineX => lineX.id === line);\n    return tubeLines[index].name\n  }\n\n  lineId(tubeLines, line){\n    let index = tubeLines.findIndex(lineX => lineX.id === line);\n    return tubeLines[index].id\n  }\n\n  findStationFromId = (stationToFind) => {\n    return this.props.stations.filter( station => station.id === stationToFind);\n  }\n\n\n  render(){\n    let { station, tubeLines, stations, thisStation} = this.props\n    let lines = []\n\n    thisStation = this.findStationFromId(station.id).pop()\n    // console.log('thisStation: ',thisStation.lines)\n\n\n\n      lines = thisStation.lines.map(line => {\n\n      // Check for light color to format text color if needed\n        let lightColors = ['hammersmith-city','waterloo-city', 'circle']\n        let lightColor = ''\n\n        if (lightColors.includes(line)){\n          lightColor = 'lightColor'\n        }\n      //\n\n\n      return <Link key={line} to={`/line/${this.lineId(tubeLines, line)}`}>\n                <div className={`lineCell ${line} ${lightColor}`}>\n                  {this.lineName(tubeLines, line)}\n                </div>\n              </Link>\n    })\n\n\n  \n    return(\n      <div className='row lineStop'>\n        <Link className='w50 lineName' to={`/station/${station.url}`}>\n          {station.name}\n        </Link>\n\n        <div className='column w50 linesBlock'>\n          {lines}\n        </div>\n        \n      </div>\n    )\n  }\n}\n\nexport default LineStop;\n","import React, { Component } from 'react';\nimport LineStop from './LineStop';\nimport './Section.scss';\nimport './LineStops.scss';\n\nclass LineStops extends Component{\n  static defaultProps={\n    line: {\n      id: 'loading...',\n      name: 'loading...',\n      stations: []\n    },\n    tubeLines: {\n    },\n    stations: []\n  }\n\n  render(){\n    const { line, tubeLines, stations } = this.props\n\n    let lineStops = line.stations.map(station => \n      <LineStop key={station.id} station={station} stations={stations} tubeLines={tubeLines}/>\n    )\n\n    let lightColors = ['hammersmith-city','waterloo-city', 'circle']\n    let lightColor = ''\n\n      if (lightColors.includes(line.id)){\n        lightColor = 'lightColor'\n      }\n\n    console.log('line: ',line.id)\n\n\n\n    return(\n\n\n\n      <section>\n        {/* <div className='sectionTitle'>Line Details</div> */}\n        <div className='CardSingle'> \n          <div className='Card'>\n            \n            <div className={`row lineColor ${line.id}`}>\n              <div className={`${lightColor}`}>{line.name}</div>\n            </div>\n\n            {/* <div className='row'>\n              <div className='status'>Stations: {line.stations.length}</div>\n            </div> */}\n\n            <div className='row'>\n              <div className='column w100 indent1'>\n                <h2>Stations Served ({line.stations.length})</h2>\n                <div className='LineStops dataBlock indent2'>\n                  {/* <div className='row'>\n                    <h4 className='infoLabel'>Station</h4>\n                    <h4 className='infoLabel end'>Lines Served</h4>\n                  </div> */}\n                  {lineStops}\n                </div>\n              </div>\n            </div>\n\n\n\n          </div>\n        </div>\n      </section>\n    )\n  }\n}\n\nexport default LineStops;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport './_Card.scss';\n\nconst LineStatus = ({ line }) => {\n\n  let disruptionReason = ''\n  if (line.reason) {\n    disruptionReason = line.reason\n    var cropIndex = disruptionReason.indexOf(':') + 1\n    disruptionReason = disruptionReason.substring(cropIndex)\n  }\n\n  let lightColors = ['hammersmith-city','waterloo-city', 'circle']\n  let lightColor = ''\n\n  if (lightColors.includes(line.id)){\n    lightColor = 'lightColor'\n  }\n\n  return(\n    <div className='LineStatus'>\n      <Link to={`/line/${line.id}`}>\n        <div className='Card'>\n\n          <div className={`row lineColor ${line.id}`}>\n              <div className={`${lightColor}`}>{line.name}</div>\n          </div>\n\n          <div className=\"cardBody\">\n            <div className='row titleRow'>\n              <div className='status'>{line.status}</div>\n            </div>\n\n            <div className='row'>\n              <div className='data'>\n                {disruptionReason}\n              </div>\n            </div>\n          </div>\n          \n\n        </div>\n      </Link>\n    </div>\n  )\n}\n\nexport default LineStatus;","import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport LineStatus from './LineStatus';\nimport './Section.scss';\n\n\nconst LineStatuses = () => {\n\n  const apiString = `app_id=${process.env.REACT_APP_TFL_API_ID}&app_key=${process.env.REACT_APP_TFL_APP_KEY}`\n  const [lineStatuses, setStatuses] = useState([])\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n    axios\n      .get(`https://api.tfl.gov.uk/line/mode/tube/status?${apiString}`, {headers : {Accept: 'application/json'}})\n      .then(response => {\n        let statuses = []\n        response.data.map(line => \n          statuses.push({\n            key: line.id,\n            id: line.id,\n            name: line.name,\n            status: line.lineStatuses[0].statusSeverityDescription,\n            reason: line.lineStatuses[0].reason,\n            stopOrder: []\n          })\n        )\n        const statusJSX = statuses.map( line => (\n          <LineStatus key={line.id} line={line}/>\n        ))\n        setStatuses(statusJSX)\n      })\n      .catch(err => {\n        console.log(err)\n      })\n  },[])\n  \n\n  return(\n    <section>\n      <div className='sectionBody CardGrid'>\n        {(lineStatuses.length !== 0)? lineStatuses : 'Loading...'}\n      </div>\n    </section>\n  )\n}\n\nexport default LineStatuses;\n\n  // getStatuses(){\n  //   let lines = []\n  //   let response = await axios.get(`https://api.tfl.gov.uk/line/mode/tube/status?${apiString}`, {\n  //     headers : {Accept: 'application/json'}\n  //   })\n  //   let linesInfo = response.data\n  //   linesInfo.map(line => \n  //     lines.push({\n  //       key: line.id,\n  //       id: line.id,\n  //       name: line.name,\n  //       status: line.lineStatuses[0].statusSeverityDescription,\n  //       reason: line.lineStatuses[0].reason,\n  //       stopOrder: []\n  //     })\n  //   )\n  //   return lines\n  // }\n\n  // render(){\n  //   const { tubeLines } = this.state\n  //   const tubeStatuses = tubeLines.map( line => (\n  //     <LineStatus key={line.id} line={line}/>\n  //   ))\n\n  // }\n\n\n\n","import React from 'react'\nimport mapboxgl from 'mapbox-gl'\nmapboxgl.accessToken = process.env.REACT_APP_MAPBOX_TOKEN\n\nclass Map extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      lng: this.props.lng,\n      lat: this.props.lat,\n      zoom: 15\n    };\n    this.markers = []\n  }\n  \n  // constructor() {\n  //   super()\n\n  //   this.markers = []\n  // }\n\n  componentDidMount() {\n    // this.map = new mapboxgl.Map({\n    //   container: this.mapDiv,\n    //   style: 'mapbox://styles/mapbox/streets-v9',\n    //   center: this.props.center,\n    //   zoom: 12\n    // })\n    // this.map.on('click', this.props.onClick)\n    // this.setMarkers()\n\n\n\n    new mapboxgl.Map({\n      container: this.mapDiv,\n      style: 'mapbox://styles/mapbox/streets-v11',\n      center: [this.state.lng, this.state.lat],\n      zoom: this.state.zoom\n    });\n\n  }\n\n\n\n\n  // setMarkers() {\n  //   this.markers.forEach(marker => marker.remove())\n  //   this.markers = this.props.points.map(point => {\n  //     return new mapboxgl.Marker()\n  //       .setLngLat({  lat: point.lat, lng: point.lon })\n  //       .addTo(this.map)\n  //   })\n  //   console.log(this.markers)\n  // }\n\n  render() {\n\n    return(\n      <div className='row map' ref={el => this.mapDiv = el} />\n    )\n  }\n}\n\nexport default Map\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport {v4 as uuid} from 'uuid';\nimport './LineArrivals.scss';\nimport Moment from 'react-moment';\nimport 'moment-timezone';\n\nclass LineArrivals extends Component{\n\n\n  render(){\n    const { line } = this.props\n    let allArrivals = this.props.arrivals\n\n    let arrivals = allArrivals\n      .filter(arrival => arrival.lineId === line.id)\n      .map(arrival => \n        <div className='row' key={uuid()}>\n          <div >{arrival.towards}</div>\n          <div className='end'>{arrival.expected}</div>\n        </div>\n      )\n\n      let noArrivals = false;\n\n      if (arrivals.length === 0){\n        noArrivals = true;\n      }\n\n    \n    let lightColors = ['hammersmith-city','waterloo-city', 'circle']\n    let lightColor = ''\n\n      if (lightColors.includes(line.id)){\n        lightColor = 'lightColor'\n      }\n  \n\n    return(\n      <div className='column dataBlock indent2'>\n          <Link className='row' to={`/line/${line.id}`}>\n            <div className='column w100 b1'>\n              <div key={line.id} className={`row lineColor ${line.id}`}>\n                <div className={`${lightColor}`}>{line.name}</div>\n              </div>\n\n\n              <div className='row linkTo'>\n                {/* <h3 >{line.name}</h3> */}\n                <div className='status'>{line.status}</div>\n              </div>\n            </div>\n          </Link>\n\n            {/* <div className='row'>\n              <h4 className='infoLabel'>Towards</h4>\n              <h4 className='infoLabel end'>Expected Arrival</h4>\n            </div> */}\n\n          { !noArrivals &&\n            <div className='row'>\n              <h4 className='infoLabel'>Towards</h4>\n              <h4 className='infoLabel end'>Expected Arrival</h4>\n            </div>\n           }\n\n          {/* <div className={`row lineRowDivide`}></div> */}\n          {arrivals}\n          {/* <div className={`row lineRowDivide`}></div> */}\n        </div>\n    )\n  }\n}\n\nexport default LineArrivals;\n\n{/* <div className='row LineArrivals'>\n<div className='columnm w100'>\n  <Link to={`/line/${line.id}`}>\n    <div key={line} className={`row lineColor ${line.id}`}></div>\n    <div className='row linkTo'>\n      <h3 >{line.name}</h3>\n      <div className='status'>{line.status}</div>\n    </div>\n  </Link>\n  <div className='row'>\n    <h4 className='column'>Towards</h4>\n    <h4 className='column end'>Expected Arrival</h4>\n  </div>\n  {arrivals}\n</div>\n</div> */}\n\n\n","import React, { Component } from 'react';\nimport './Facilities.scss';\n\nclass Facilties extends Component {\n  static defaultProps={\n    facilities: []\n    }\n\n  render(){\n    let { facilities } = this.props\n\n    facilities = facilities.map(facility => \n      <div key={facility.key} className='w25 column'>\n        {facility.key}\n      </div>\n    )\n\n    return(\n        <div className='Facilities dataBlock indent2'>\n        {facilities}\n        </div>\n\n\n\n      // {/* <div className='row facilitiesIcons indent2'> */\n      //     /* <IconWifi /> */\n      //   /* <img src={IconWifi} className='icon' alt=\"Wifi Icon\" />\n      //   <img src={IconATM} className='icon' alt=\"ATM Icon\" /> */\n      // /* </div> */}\n\n    )\n  }\n}\n\nexport default Facilties;","import React, { Component, useEffect } from 'react';\nimport axios from 'axios';\nimport {v4 as uuid} from 'uuid';\nimport Map from './Map';\nimport LineArrivals from './LineArrivals';\nimport Facilities from './Facilties';\nimport './Section.scss';\nimport './Station.scss';\n// import IconWifi from './icons/wifi.svg';\n// import IconATM from './icons/atm.svg';\n\n\nclass Station extends Component {\n  static defaultProps={\n    station: {\n      id: undefined,\n      url: 'loading...',\n      name: 'loading...',\n      address: '',\n      lat: 0,\n      lng: 0,\n      lines: [],\n      contact: [\n        {value: 'the address'},\n        {value: 'the phone number'}\n      ]\n    }\n  }\n\n  constructor(props){\n    super(props);\n    this.state={\n      arrivals:[],\n      station: this.props.station\n    }\n    this.getArrivals = this.getArrivals.bind(this)\n  }\n\n  async getArrivals(){\n    const { apiString, station } = this.props\n    if (station.id === undefined){ return }\n    // let station = this.findStationFromUrl(this.props.routeProps.match.params.url)\n    const stationId = station.id\n    let arrivals = []\n    let response = await axios.get(`https://api.tfl.gov.uk/StopPoint/${stationId}/Arrivals?${apiString}`, {\n      headers : {Accept: 'application/json'}\n    })\n    response.data.map(arrival => \n      arrivals.push({\n        lineName: arrival.lineName,\n        lineId: arrival.lineId,\n        platform: arrival.platformName,\n        desintation: arrival.destination,\n        towards: arrival.towards,\n        expected: arrival.expectedArrival\n      })\n    )\n    this.setState({\n      arrivals: [...arrivals],\n      station: {\n      id: undefined,\n      url: 'loading...',\n      name: 'loading...',\n      address: '',\n      lat: 0,\n      lng: 0,\n      lines: [],\n      contact: [\n        {value: 'the address'},\n        {value: 'the phone number'}\n      ]\n    }\n    })\n  }\n\n  componentDidMount(){\n    const { getInfo } = this.props\n    // getInfo()\n    window.scrollTo(0, 0);\n    this.getArrivals()\n  }\n\n  formatLocation(lat, lng){\n    lat = lat + '°N'\n    if (lng >= 0) {\n      lng = lng + '°E'\n    } else{\n      lng = - lng + '°W'\n    }\n    return {lat: lat, lng: lng}\n  }\n\n  formatAddress(address){\n    address = address.split(',')\n    address = address.map(lineOfAddress => \n      <div key={uuid()}>{lineOfAddress}</div>\n    )\n    return address\n  }\n\n  findLine(tubeLines, line){\n    let index = tubeLines.findIndex(lineX => lineX.id === line);\n    return tubeLines[index]\n  }\n\n  // useEffect(() => {\n  //   window.scrollTo(0, 0)\n  // }, [])\n\n \n\n  render(){\n\n\n\n\n\n    const { station, tubeLines } = this.props\n\n    if (this.state.arrivals.length === 0){\n      this.getArrivals()\n    }\n\n    \n\n    // Loops through each line served by station\n      let lineArrivals = station.lines.map(line => \n        <LineArrivals key={line} line={this.findLine(tubeLines, line)} arrivals={this.state.arrivals}/>\n      )\n    //\n    \n\n    let address = station.contact[0].value\n    address = this.formatAddress(address)\n    let phoneNo = station.contact[1].value\n    let location = this.formatLocation(station.lat, station.lng)\n\n    // console.log(address)\n\n    return(\n      <section>\n        {/* <div className='sectionTitle'>Station Details</div> */}\n        <div className='CardSingle'>\n          <div className='Card'> \n\n            <div className='row'>\n              <h1>{station.name}</h1>\n            </div>\n\n            {/* <div className={`row lineRowDivide`}></div> */}\n            <div className='row'>\n              <div className='column w100 indent1'>\n                <h2>Arrivals</h2>\n                {lineArrivals}\n              </div>\n            </div>\n\n            <div className='row facilities'>\n              <div className='column w100 indent1'>\n                <h2>Facilities</h2>\n                <Facilities facilities={station.facilities}/>\n              </div>\n            </div>\n            \n            <div className='row address'>\n              <div className='column w50 indent1'>\n                <h2>Address</h2>\n                <div className='column dataBlock indent2'>\n                  {address}\n                </div>\n              </div> \n              <div className='column w50 indent1'>\n                <h2>Telephone</h2>\n                <div className='column dataBlock indent2'>\n                  {phoneNo}\n                </div>\n              </div>\n            </div>\n\n            <div className='row rowLast'>\n              <div className='column w100 indent2'>\n                <Map\n                    lat={station.lat}\n                    lng={station.lng}\n                  />\n                <div className='row'>\n                  <div>{location.lat} {location.lng}</div>\n                  <div className='code'>Station ID: {station.id}</div>\n                </div>\n              </div>\n\n            </div>\n\n\n          </div>\n            \n        </div>\n      </section>\n    )\n  }\n}\n\nexport default Station","import React, { Component } from 'react';\nimport { Route, Switch} from 'react-router-dom';\nimport axios from 'axios';\nimport { kebabCase } from './Helpers';\nimport Nav from './Nav';\nimport LineStops from './LineStops'\nimport LineStatuses from './LineStatuses';\nimport Station from './Station';\nimport './App.scss';\n// import Moment from 'react-moment';\n// import 'moment-timezone';\n\n\nclass App extends Component {\n  static defaultProps = {\n    apiString: `app_id=${process.env.REACT_APP_TFL_API_ID}&app_key=${process.env.REACT_APP_TFL_APP_KEY}`,\n    mapboxToken: process.env.REACT_APP_MAPBOX_TOKEN\n  }\n\n  constructor(props){\n    super(props);\n    this.state={\n      tubeLines: [],\n      stations: [],\n    }\n  }\n\n  componentDidMount(){\n    if (this.state.tubeLines.length === 0){\n      this.getInfo()\n    }\n  }\n\n\n  async getInfo(){\n    console.log('Getting statuses...')\n    let lines = await this.getStatuses()\n    //----------------------------------\n    console.log('Getting stop orders...')\n    for (let i=0; i<lines.length; i++){\n      lines[i].stopOrder = await this.getStopOrder(lines[i].id)\n    }\n    //----------------------------------\n    let stations = []\n    for (let i=0; i<lines.length; i++){\n      lines[i].stations = await this.getStations(lines[i].id)\n      for (let j=0; j<lines[i].stations.length; j++){\n        lines[i].stations[j].lines = [lines[i].id]\n        stations = this.addStation(lines[i].stations[j], stations)\n      }\n      // console.log('lines in stations', )\n    }\n    stations.sort( this.compare );\n    // console.log('stations: ',stations)\n    // console.log(stations.sort())\n    this.setState({\n      tubeLines: lines,\n      stations: stations\n    })\n  }\n\n\n  async getStatuses(){\n    const { apiString } = this.props\n    let lines = []\n    let response = await axios.get(`https://api.tfl.gov.uk/line/mode/tube/status?${apiString}`, {\n      headers : {Accept: 'application/json'}\n    })\n    let linesInfo = response.data\n    linesInfo.map(line => \n      lines.push({\n        key: line.id,\n        id: line.id,\n        name: line.name,\n        status: line.lineStatuses[0].statusSeverityDescription,\n        reason: line.lineStatuses[0].reason,\n        stopOrder: [],\n        // stations: []\n      })\n    )\n    return lines\n  }\n\n  \n\n  \n  async getStopOrder(lineId){\n    const { apiString } = this.props\n    let response = await axios.get(`https://api.tfl.gov.uk/Line/${lineId}/Route/Sequence/all?${apiString}`, {\n      headers : {Accept: 'application/json'}\n    })\n    // console.log('Got:', lineId)\n    let stopOrder = response.data.orderedLineRoutes\n    return stopOrder\n  }\n\n  checkProperties(property){\n    if (property){\n      property = property.value\n      return property\n    } \n    property = undefined\n    return property\n  }\n\n\n  async getStations(lineId){\n    const { apiString } = this.props\n    let lineStations = []\n    let response = await axios.get(`https://api.tfl.gov.uk/Line/${lineId}/StopPoints?tflOperatedNationalRailStationsOnly=false&${apiString}`, {\n      headers : {Accept: 'application/json'}\n    })\n    // console.log('Line Stations:', response.data[1].additionalProperties)\n    response.data.map(station => {\n      let contact = [\n        {key: 'Address', value: undefined},\n        {key: 'PhoneNo', value: undefined}\n      ]\n      let facility = [\n        {key: 'Ticket Halls', value: undefined},\n        {key: 'Toilets', value: undefined},\n        {key: 'Lifts', value: undefined},\n        {key: 'Escalators', value: undefined},\n        {key: 'WiFi', value: undefined},\n        {key: 'Help Points', value: undefined},\n        {key: 'Payphones', value: undefined},\n        {key: 'Boarding Ramp', value: undefined},\n        {key: 'Cash Machines', value: undefined},\n        {key: 'Euro Cash Machines', value: undefined},\n        {key: 'Waiting Room', value: undefined},\n        // {key: 'Gates', value: undefined},\n        {key: 'TaxiRankOutsideStation', value: undefined},\n        {key: 'Car park', value: undefined},\n        {key: 'Left Luggage', value: undefined},\n        {key: 'Photo Booths', value: undefined},\n        {key: 'Amazon Lockers', value: undefined},\n        {key: 'ASDA Click and Collect', value: undefined},\n      ]\n\n\n      let validFacilities = []\n      let rejectedValues = ['no', '0']\n      let renamedFacilityKeys = ['TaxiRankOutsideStation']\n      \n\n      facility.forEach(facility => {\n        let facilityObject = station.additionalProperties.find(x => x.key === facility.key)\n\n        \n\n        if (facilityObject && renamedFacilityKeys.includes(facility.key)) {\n          facility.key = 'Taxi Rank'\n        }\n\n\n        if (facilityObject && !rejectedValues.includes(facilityObject.value)){\n          facility.value = facilityObject.value\n          validFacilities.push(facility)\n          return\n        } \n      });\n\n\n      let validContacts = []\n\n      contact.forEach(property => {\n        let propertyObject = station.additionalProperties.find(x => x.key === property.key)\n        if (propertyObject){\n          if (!rejectedValues.includes(propertyObject.value)){\n            property.value = propertyObject.value\n            validContacts.push(property)\n            return\n          }\n        } \n      });\n\n      return lineStations.push({\n        key: station.id,\n        id: station.id,\n        url: kebabCase(this.trimStationName(station.commonName)),\n        name: this.trimStationName(station.commonName),\n        lat: station.lat,\n        lng: station.lon,\n        contact: [...validContacts],\n        facilities: validFacilities\n      })\n    })\n    return lineStations;\n  }\n\n\n\n\n  trimStationName(stationName){\n    let trimmedStationName = stationName.replace('Underground Station', '')\n    let cropIndex1 = trimmedStationName.indexOf('(') + 2\n    if (cropIndex1 !== 0){\n      trimmedStationName = trimmedStationName.slice(0, (cropIndex1-2))\n    } \n    return trimmedStationName\n  }\n\n\n  addStation(newStation, stations){\n    let foundIndex = stations.findIndex(station => station.id === newStation.id);\n    if (foundIndex !== -1){\n      stations[foundIndex].lines.push(newStation.lines[0])\n    } else {\n      stations = [...stations, newStation]\n    }\n    return stations\n  }\n\n  compare( stationA, stationB ) {\n    if ( stationA.name < stationB.name ){\n      return -1;\n    }\n    if ( stationA.name > stationB.name ){\n      return 1;\n    }\n    return 0;\n  }\n\n  //returns single line based on id\n  findLine = (idToFind) => {\n    return this.state.tubeLines.find(function(line){\n      return line.id === idToFind;\n    })\n  }\n\n  findStationFromUrl = (stationToFind) => {\n    return this.state.stations.find(function(station){\n      return station.url === stationToFind;\n    })\n  }\n\n  findStationFromId = (stationToFind) => {\n    return this.state.stations.findIndex( station => station.id === stationToFind);\n  }\n\n\n  findLineIndex = (lineToFind) => {\n    let index = this.state.tubeLines.findIndex(line => line.id === lineToFind)\n    return index\n  }\n\n\n  render(){\n    return (\n      <div className='App'>\n        <header>\n          <Nav />\n        </header>\n        <Switch>\n          \n          {/* <Route exact path='/tube/status'\n            render={(routeProps) => (\n              <LineStatuses\n                {...routeProps}\n                tubeLines={this.state.tubeLines}\n              />\n            )}\n          /> */}\n          <Route exact path='/line/:id'\n            render={(routeProps) => (\n              <LineStops\n                {...routeProps} \n                tubeLines={this.state.tubeLines}\n                stations={this.state.stations}\n                line={this.findLine(routeProps.match.params.id)}\n                // lineIndex={this.findLineIndex(routeProps.match.params.id)}\n              />\n            )}\n          />\n\n          <Route exact path='/station/:url'\n            render={(routeProps) => (\n              <Station\n                {...routeProps} \n                tubeLines={this.state.tubeLines}\n                apiString={this.props.apiString}\n                station={this.findStationFromUrl(routeProps.match.params.url)}\n              />\n            )}\n          />\n\n        <Route path='/' component = { LineStatuses }/>\n        </Switch>\n  \n        <footer className='right'>\n          <a href='http://www.orjon.com'>orjon.com</a>\n        </footer>\n      </div>\n    );\n  }\n\n  \n}\n\nexport default App;","function kebabCase(inputString){\n  let outputString = inputString.toLowerCase().replace(/ /g, '-').replace(/'/g, '')\n  return outputString\n}\n\nfunction lineName(tubeLines, line){\n  let index = tubeLines.findIndex(lineX => lineX.id === line);\n  return tubeLines[index]\n}\n\nexport { kebabCase, lineName }","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport {BrowserRouter} from 'react-router-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}